<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Add or edit financial transactions" />
    <title>Add Transaction - Student Finance Tracker</title>
    <link rel="stylesheet" href="styles/main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <header class="header">
      <div class="container">
        <div class="header-content">
          <div class="logo">
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              aria-hidden="true"
            >
              <rect width="32" height="32" rx="8" fill="#4C763B" />
              <path d="M16 8L22 12V20L16 24L10 20V12L16 8Z" fill="#B0CE88" />
            </svg>
            <span class="logo-text">Finance Tracker</span>
          </div>
          <nav class="nav" aria-label="Main navigation">
            <ul class="nav-list">
              <li><a href="index.html" class="nav-link">Dashboard</a></li>
              <li>
                <a href="transactions.html" class="nav-link">Transactions</a>
              </li>
              <li>
                <a href="add.html" class="nav-link active" aria-current="page"
                  >Add Transaction</a
                >
              </li>
              <li><a href="settings.html" class="nav-link">Settings</a></li>
              <li><a href="about.html" class="nav-link">About</a></li>
            </ul>
          </nav>
          <div class="header-actions">
            <button
              id="theme-toggle"
              class="theme-toggle"
              aria-label="Toggle dark mode"
              title="Toggle dark mode"
            >
              <svg class="theme-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="12" cy="12" r="5"/>
                <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
              </svg>
            </button>
            <button
              class="mobile-menu-toggle"
              aria-label="Toggle mobile menu"
              aria-expanded="false"
            >
              <span class="hamburger"></span>
            </button>
          </div>
        </div>
      </div>
    </header>

    <main id="main-content" class="main">
      <div class="container">
        <div class="page-header">
          <h1 id="form-title">Add Transaction</h1>
          <p class="page-description">Record a new financial transaction</p>
        </div>

        <div class="form-container">
          <form id="transaction-form" class="transaction-form" novalidate>
            <input type="hidden" id="transaction-id" name="id" />

            <div class="form-group">
              <label for="description" class="form-label">
                Description
                <span class="required" aria-label="required">*</span>
              </label>
              <input
                type="text"
                id="description"
                name="description"
                class="form-input"
                required
                aria-required="true"
                aria-describedby="description-help description-error"
              />
              <span id="description-help" class="help-text"
                >3-100 characters, letters, numbers, spaces, and basic
                punctuation</span
              >
              <span
                id="description-error"
                class="error-message"
                role="alert"
              ></span>
            </div>

            <div class="form-group">
              <label for="amount" class="form-label">
                Amount <span class="required" aria-label="required">*</span>
              </label>
              <input
                type="text"
                id="amount"
                name="amount"
                class="form-input"
                placeholder="0.00"
                required
                aria-required="true"
                aria-describedby="amount-help amount-error"
              />
              <span id="amount-help" class="help-text"
                >Format: 0.00 (up to 2 decimal places, max 9999.99)</span
              >
              <span id="amount-error" class="error-message" role="alert"></span>
            </div>

            <div class="form-group">
              <label for="category" class="form-label">
                Category <span class="required" aria-label="required">*</span>
              </label>
              <select
                id="category"
                name="category"
                class="form-select"
                required
                aria-required="true"
                aria-describedby="category-help category-error"
              >
                <option value="">Select a category</option>
                <option value="Food">Food</option>
                <option value="Transport">Transport</option>
                <option value="Entertainment">Entertainment</option>
                <option value="Education">Education</option>
                <option value="Shopping">Shopping</option>
                <option value="Bills">Bills</option>
                <option value="Health">Health</option>
                <option value="Other">Other</option>
              </select>
              <span id="category-help" class="help-text"
                >Choose the transaction category</span
              >
              <span
                id="category-error"
                class="error-message"
                role="alert"
              ></span>
            </div>

            <div class="form-group">
              <label for="date" class="form-label">
                Date <span class="required" aria-label="required">*</span>
              </label>
              <input
                type="date"
                id="date"
                name="date"
                class="form-input"
                required
                aria-required="true"
                aria-describedby="date-help date-error"
              />
              <span id="date-help" class="help-text"
                >Transaction date (YYYY-MM-DD)</span
              >
              <span id="date-error" class="error-message" role="alert"></span>
            </div>

            <div class="form-actions">
              <button type="button" id="cancel-btn" class="btn btn-secondary">
                Cancel
              </button>
              <button type="submit" class="btn btn-primary">
                Save Transaction
              </button>
            </div>

            <div
              id="form-status"
              class="form-status"
              role="status"
              aria-live="polite"
              aria-atomic="true"
            ></div>
          </form>
        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <p>
          &copy; 2025 Student Finance Tracker. Built for educational purposes.
        </p>
      </div>
    </footer>

    <script type="module" src="scripts/storage.js"></script>
    <script type="module" src="scripts/validators.js"></script>
    <script type="module" src="scripts/state.js"></script>
    <script type="module" src="scripts/theme.js"></script>
    <script type="module" src="scripts/sw-register.js"></script>
    <script type="module" src="scripts/form.js"></script>
  </body>
</html>
